"use strict";(self.webpackChunkreference=self.webpackChunkreference||[]).push([[4002],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return p}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),s=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=s(n),p=a,m=h["".concat(u,".").concat(p)]||h[p]||c[p]||i;return n?r.createElement(m,o(o({ref:t},d),{},{components:n})):r.createElement(m,o({ref:t},d))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1574:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return u},metadata:function(){return s},toc:function(){return d},default:function(){return h}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],l={},u=void 0,s={unversionedId:"Python Course/Python yield",id:"Python Course/Python yield",isDocsHomePage:!1,title:"Python yield",description:"028. Python yield",source:"@site/docs/Python Course/028. Python yield.md",sourceDirName:"Python Course",slug:"/Python Course/Python yield",permalink:"/reference/docs/Python Course/Python yield",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/Python Course/028. Python yield.md",tags:[],version:"current",sidebarPosition:28,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Python Timeit()",permalink:"/reference/docs/Python Course/Python Timeit()"},next:{title:"Python Queue",permalink:"/reference/docs/Python Course/Python Queue"}},d=[{value:"Syntax",id:"syntax",children:[{value:"Description",id:"description",children:[]}]},{value:"Example: Yield Method",id:"example-yield-method",children:[]},{value:"What are Generators in Python?",id:"what-are-generators-in-python",children:[{value:"Using Generator function",id:"using-generator-function",children:[]}]},{value:"Difference between Normal function v/s Generator function.",id:"difference-between-normal-function-vs-generator-function",children:[]},{value:"How to read the values from the generator?",id:"how-to-read-the-values-from-the-generator",children:[{value:"Using : list()",id:"using--list",children:[]},{value:"Using : for-in",id:"using--for-in",children:[]},{value:"Using next()",id:"using-next",children:[]}]},{value:"Generators are one-time Use",id:"generators-are-one-time-use",children:[]},{value:"Example: Generators and yield for Fibonacci Series",id:"example-generators-and-yield-for-fibonacci-series",children:[]},{value:"Example: Calling Function with Yield",id:"example-calling-function-with-yield",children:[]},{value:"When to use Yield Instead of Return in Python",id:"when-to-use-yield-instead-of-return-in-python",children:[]},{value:"Yield vs. Return",id:"yield-vs-return",children:[]},{value:"Summary:",id:"summary",children:[]}],c={toc:d};function h(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("ol",{start:28},(0,i.kt)("li",{parentName:"ol"},"Python yield")),(0,i.kt)("h1",{id:"what-is-python-yield"},"What is Python yield?"),(0,i.kt)("p",null,"The yield keyword in python works like a return with the only"),(0,i.kt)("p",null,"difference is that instead of returning a value, it gives back a generator object to the caller."),(0,i.kt)("p",null,"When a function is called and the thread of execution finds a yield keyword in the function, the function execution stops at that line itself and it returns a generator object back to the caller."),(0,i.kt)("h2",{id:"syntax"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"yield expression\n")),(0,i.kt)("h3",{id:"description"},"Description"),(0,i.kt)("p",null,"Python yield returns a generator object. Generators are special functions that have to be iterated to get the values."),(0,i.kt)("p",null,"The yield keyword converts the expression given into a generator function that gives back a generator object. To get the values of the object, it has to be iterated to read the values given to the yield."),(0,i.kt)("h2",{id:"example-yield-method"},"Example: Yield Method"),(0,i.kt)("p",null,'Here is a simple example of yield. The function testyield() has a yield keyword with the string "Welcome to Guru99 Python Tutorials". When the function is called, the output is printed and it gives a generator object instead of the actual value.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def testyield():\n  yield "Welcome to Guru99 Python Tutorials"\noutput = testyield()\nprint(output)  \n')),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"<generator object testyield at 0x00000028265EB9A8>\n")),(0,i.kt)("p",null,"The output given is a generator object, which has the value we have given to yield."),(0,i.kt)("p",null,"But we are not getting the message we have to given to yield in output!"),(0,i.kt)("p",null,"To print the message given to yield will have to iterate the generator object as shown in the example below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def testyield():\n  yield "Welcome to Guru99 Python Tutorials"\n\noutput = testyield()\nfor i in output:\n    print(i)\n')),(0,i.kt)("p",null,"Output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"Welcome to Guru99 Python Tutorials\n")),(0,i.kt)("h2",{id:"what-are-generators-in-python"},"What are Generators in Python?"),(0,i.kt)("p",null,"Generators are functions that return an iterable generator object. The values from the generator object are fetched one at a time instead of the full list together and hence to get the actual values you can use a for-loop, using next() or list() method."),(0,i.kt)("h3",{id:"using-generator-function"},"Using Generator function"),(0,i.kt)("p",null,"You can create generators using generator function and using generator expression."),(0,i.kt)("p",null,"A generator function is like a normal function, instead of having a return value it will have a yield keyword."),(0,i.kt)("p",null,"To create a generator function you will have to add a yield keyword. The following examples shows how to create a generator function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def generator():\n    yield "H"\n    yield "E"\n    yield "L"\n    yield "L"\n    yield "O"\n\ntest = generator()\nfor i in test:\n    print(i)\n')),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"H\nE\nL\nL\nO\n")),(0,i.kt)("h2",{id:"difference-between-normal-function-vs-generator-function"},"Difference between Normal function v/s Generator function."),(0,i.kt)("p",null,"Let us understand how a generator function is different from a normal function."),(0,i.kt)("p",null,"There are 2 functions normal_test() and generator_test()."),(0,i.kt)("p",null,'Both the functions are suppose to return back the string "Hello World". The normal_test() is using return and generator_test() is using yield.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# Normal function\ndef normal_test():\n    return "Hello World"\n    \n#Generator function\ndef generator_test():\n    yield "Hello World"\nprint(normal_test()) #call to normal function\nprint(generator_test()) # call to generator function\n')),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"Hello World\n<generator object generator_test at 0x00000012F2F5BA20>\n")),(0,i.kt)("p",null,"The output shows that when you call the normal function normal_test() it returns Hello World string. For a generator function with yield keyword it returns <generator object generator_test at 0x00000012F2F5BA20> and not the string."),(0,i.kt)("p",null,"This is the main difference between a generator function and a normal function. Now to get the value from the generator object we need to either use the object inside for loop or use next() method or make use of list()."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"print(next(generator_test()))  # will output Hello World\n")),(0,i.kt)("p",null,"One more difference to add to normal function v/s generator function is that when you call a normal function the execution will start and stop when it gets to ",(0,i.kt)("strong",{parentName:"p"},"return")," and the value is returned to the caller. So when the execution starts you cannot stop the normal function in between and it will only stop when it comes across return keyword."),(0,i.kt)("p",null,"But in case of generator function once the execution starts when it gets the first yield it stops the execution and gives back the generator object. You can use the generator object to get the values and also, pause and resume back as per your requirement."),(0,i.kt)("h2",{id:"how-to-read-the-values-from-the-generator"},"How to read the values from the generator?"),(0,i.kt)("p",null,"You can read the values from a generator object using a list(), for-loop and using next() method."),(0,i.kt)("h3",{id:"using--list"},"Using : list()"),(0,i.kt)("p",null,"A list is an iterable object that has its elements inside brackets.Using list() on a generator object will give all the values the generator holds."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def even_numbers(n):\n    for x in range(n):\n       if (x%2==0): \n           yield x       \nnum = even_numbers(10)\nprint(list(num))\n")),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"[0, 2, 4, 6, 8]\n")),(0,i.kt)("h3",{id:"using--for-in"},"Using : for-in"),(0,i.kt)("p",null,"In the example, there is a function defined even_numbers() that will give you all even numbers for the n defined. The call to the function even_numbers() will return a generator object, that is used inside for-loop."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def even_numbers(n):\n    for x in range(n):\n       if (x%2==0): \n           yield x       \nnum = even_numbers(10)\nfor i in num:\n    print(i)\n")),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"0\n2\n4\n6\n8\n")),(0,i.kt)("h3",{id:"using-next"},"Using next()"),(0,i.kt)("p",null,"The next() method will give you the next item in the list, array, or object. Once the list is empty, and if next() is called, it will give back an error with stopIteration signal. This error, from next() indicates that there are no more items in the list."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def even_numbers(n):\n    for x in range(n):\n       if (x%2==0): \n           yield x       \nnum = even_numbers(10)\nprint(next(num))\nprint(next(num))\nprint(next(num))\nprint(next(num))\nprint(next(num))\nprint(next(num))\n")),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'0\n2\n4\n6\n8\nTraceback (most recent call last):\n  File "main.py", line 11, in <module>\n    print(next(num))\nStopIteration\n')),(0,i.kt)("h2",{id:"generators-are-one-time-use"},"Generators are one-time Use"),(0,i.kt)("p",null,"Incase of generators they are available for use only once. If you try to use them again, it will be empty."),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def even_numbers(n):\n    for x in range(n):\n       if (x%2==0): \n           yield x       \nnum = even_numbers(10)\nfor i in num:\n    print(i)\n\nprint("\\n")\nprint("Calling the generator again: ", list(num))\n')),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"0\n2\n4\n6\n8\nCalling the generator again:  []\n")),(0,i.kt)("p",null,"In case you want the output to be used again, you will have to make the call to function again."),(0,i.kt)("h2",{id:"example-generators-and-yield-for-fibonacci-series"},"Example: Generators and yield for Fibonacci Series"),(0,i.kt)("p",null,"The following example shows how to use generators and yield in Python. The example will generate the Fibonacci series."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def getFibonnaciSeries(num):\n    c1, c2 = 0, 1\n    count = 0\n    while count < num:\n        yield c1\n        c3 = c1 + c2\n        c1 = c2\n        c2 = c3\n        count += 1\nfin = getFibonnaciSeries(7)\nprint(fin)\nfor i in fin:\n    print(i)\n")),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"<generator object getFibonnaciSeries at 0x0000007F39C8BA20>\n0\n1\n1\n2\n3\n5\n8\n")),(0,i.kt)("h2",{id:"example-calling-function-with-yield"},"Example: Calling Function with Yield"),(0,i.kt)("p",null,"In this example will see how to call a function with yield."),(0,i.kt)("p",null,"The below example has a function called test() that returns the square of the given number. There is another function called getSquare() that uses test() with yield keyword. The output gives the square value for given number range."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def test(n):\n    return n*n\n\ndef getSquare(n):\n    for i in range(n):\n        yield test(i)\n\nsq = getSquare(10)\nfor i in sq:\n    print(i)\n")),(0,i.kt)("p",null,"Output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"0\n1\n4\n9\n16\n25\n36\n49\n64\n81\n")),(0,i.kt)("h2",{id:"when-to-use-yield-instead-of-return-in-python"},"When to use Yield Instead of Return in Python"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Python3 Yield")," keyword returns a generator to the caller and the execution of the code starts only when the generator is iterated."),(0,i.kt)("p",null,"A ",(0,i.kt)("strong",{parentName:"p"},"return")," in a function is the end of the function execution, and a single value is given back to the caller."),(0,i.kt)("p",null,"Here, is the situation when you should use Yield instead of Return"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Use yield instead of return when the data size is large"),(0,i.kt)("li",{parentName:"ul"},"Yield is the best choice when you need your execution to be faster on large data sets"),(0,i.kt)("li",{parentName:"ul"},"Use yield when you want to return a big set of values to the calling function"),(0,i.kt)("li",{parentName:"ul"},"Yield is an efficient way of producing data that is big or infinite.")),(0,i.kt)("h2",{id:"yield-vs-return"},"Yield vs. Return"),(0,i.kt)("p",null,"Here, are the differences between Yield and Return"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Yield"),(0,i.kt)("th",{parentName:"tr",align:null},"Return"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Yield returns a generator object to the caller, and the execution of the code starts only when the generator is iterated."),(0,i.kt)("td",{parentName:"tr",align:null},"A return in a function is the end of the function execution, and a single value is given back to the caller.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"When the function is called and it encounters the yield keyword, the function execution stops. It returns generator object back to the caller. The function execution will start only when the generator object is executed."),(0,i.kt)("td",{parentName:"tr",align:null},"When the function is called, the execution starts and the value is given back to the caller if there is return keyword. The return inside the function marks the end of the function execution.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"yield expression"),(0,i.kt)("td",{parentName:"tr",align:null},"return expression")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"No memory is used when the yield keyword is used."),(0,i.kt)("td",{parentName:"tr",align:null},"The memory is allocated for the value returned.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Very useful if you have to deal with huge data size as the memory is not used."),(0,i.kt)("td",{parentName:"tr",align:null},"Convenient for very small data size.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"The performance is better if the yield keyword is used for large data size."),(0,i.kt)("td",{parentName:"tr",align:null},"A lot of memory is used if the data size is huge that will hamper the performance.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Execution time is faster in case of yield for large data size."),(0,i.kt)("td",{parentName:"tr",align:null},"The execution time used is more as there is extra processing done in case if your data size is huge, it will work fine for small data size.")))),(0,i.kt)("h2",{id:"summary"},"Summary:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The yield keyword in python works like a return with the only difference is that instead of returning a value, it gives back a generator function to the caller."),(0,i.kt)("li",{parentName:"ul"},"A generator is a special type of iterator that, once used, will not be available again. The values are not stored in memory and are only available when called."),(0,i.kt)("li",{parentName:"ul"},"The values from the generator can be read using for-in, list() and next() method."),(0,i.kt)("li",{parentName:"ul"},"The main difference between yield and return is that yield returns back a generator function to the caller and return gives a single value to the caller."),(0,i.kt)("li",{parentName:"ul"},"Yield does not store any of the values in memory, and the advantage is that it is helpful when the data size is big, as none of the values are stored in memory."),(0,i.kt)("li",{parentName:"ul"},"The performance is better if the yield keyword is used in comparison to return for large data size.")))}h.isMDXComponent=!0}}]);