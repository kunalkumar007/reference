"use strict";(self.webpackChunkreference=self.webpackChunkreference||[]).push([[3888],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=i.createContext({}),u=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return i.createElement(p.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},s=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),s=u(n),m=r,f=s["".concat(p,".").concat(m)]||s[m]||h[m]||o;return n?i.createElement(f,a(a({ref:t},c),{},{components:n})):i.createElement(f,a({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var u=2;u<o;u++)a[u]=n[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}s.displayName="MDXCreateElement"},7450:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return u},toc:function(){return c},default:function(){return s}});var i=n(7462),r=n(3366),o=(n(7294),n(3905)),a=["components"],l={},p=void 0,u={unversionedId:"Python Course/Python Zip File",id:"Python Course/Python Zip File",isDocsHomePage:!1,title:"Python Zip File",description:"038. Python Zip File",source:"@site/docs/Python Course/038. Python Zip File.md",sourceDirName:"Python Course",slug:"/Python Course/Python Zip File",permalink:"/reference/docs/Python Course/Python Zip File",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/Python Course/038. Python Zip File.md",tags:[],version:"current",sidebarPosition:38,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Python Rename File",permalink:"/reference/docs/Python Course/Python Rename File"},next:{title:"Python Try, Catch, Finally",permalink:"/reference/docs/Python Course/Python Try, Catch, Finally"}},c=[{value:"Code Explanation",id:"code-explanation",children:[]},{value:"Code Explanation",id:"code-explanation-1",children:[]},{value:"Python 2 Example",id:"python-2-example",children:[]},{value:"Python 3 Example",id:"python-3-example",children:[]},{value:"Summary",id:"summary",children:[]}],h={toc:c};function s(e){var t=e.components,n=(0,r.Z)(e,a);return(0,o.kt)("wrapper",(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("ol",{start:38},(0,o.kt)("li",{parentName:"ol"},"Python Zip File")),(0,o.kt)("h1",{id:"python-zip-file-with-example"},"Python Zip File with Example"),(0,o.kt)("p",null,"Python allows you to quickly create zip/tar archives."),(0,o.kt)("p",null,"Following command will zip entire directory"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"shutil.make_archive(output_filename, 'zip', dir_name)\n")),(0,o.kt)("p",null,"Following command gives you control on the files you want to archive"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"ZipFile.write(filename)\n")),(0,o.kt)("p",null,"Here are the steps to create Zip File in Python"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 1)")," To create an archive file from Python, make sure you have your import statement correct and in order. Here the import statement for the archive is\n",(0,o.kt)("inlineCode",{parentName:"p"},"from shutil import make_archive"),"\n",(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.10.png",alt:"image"})),(0,o.kt)("h3",{id:"code-explanation"},"Code Explanation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Import make_archive class from module shutil"),(0,o.kt)("li",{parentName:"ul"},"Use the split function to split out the directory and the file name from the path to the location of the text file (guru99)"),(0,o.kt)("li",{parentName:"ul"},'Then we call the module "shutil.make_archive("guru99 archive, "zip", root_dir)" to create archive file, which will be in zip format'),(0,o.kt)("li",{parentName:"ul"},"After then we pass in the root directory of things we want to be zipped up. So everything in the directory will be zipped"),(0,o.kt)("li",{parentName:"ul"},"When you run the code, you can see the archive zip file is created on the right side of the panel.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 2)")," Once your archive file is made, you can right-click on the file and select the O.S, and it will show your archive files in it as shown below"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.11.png",alt:"image"})),(0,o.kt)("p",null,"Now your archive.zip file will appear on your O.S (Windows Explorer)"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.12.png",alt:"image"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 3)")," When you double-click on the file, you will see the list all the files in there."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.13.png",alt:"image"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 4)")," In Python we can have more control over archive since we can define which specific file to include under archive. In our case, we will include two files under archive ",(0,o.kt)("strong",{parentName:"p"},'"guru99.txt" and '),'"guru99.txt.bak".**'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.14.png",alt:"image"})),(0,o.kt)("h3",{id:"code-explanation-1"},"Code Explanation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Import Zipfile class from zip file Python module. This module gives full control over creating zip files"),(0,o.kt)("li",{parentName:"ul"},'We create a new Zipfile with name ( "testguru99.zip, "w")'),(0,o.kt)("li",{parentName:"ul"},"Creating a new Zipfile class, requires to pass in permission because it's a file, so you need to write information into the file as newzip"),(0,o.kt)("li",{parentName:"ul"},'We used variable "newzip" to refer to the zip file we created'),(0,o.kt)("li",{parentName:"ul"},'Using the write function on the "newzip" variable, we add the files "guru99.txt" and "guru99.txt.bak" to the archive'),(0,o.kt)("li",{parentName:"ul"},'When you execute the code you can see the file is created on the right side of the panel with name "guru99.zip"')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:"),' Here we don\'t give any command to "close" the file like "newzip.close" because we use "With" scope lock, so when program falls outside of this scope the file will be cleaned up and is closed automatically.'),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 5)")," When you -> ",(0,o.kt)("strong",{parentName:"p"},"right click on file (testguru99.zip) and -> select your O.S (Windows Explorer)")," , it will show the archive files in the folder as shown below."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.15.png",alt:"image"})),(0,o.kt)("p",null,'When you double click on file "testguru99.zip", it will open another window, and this will show the files included in it.'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.guru99.com/images/Pythonnew/Python18.16.png",alt:"image"})),(0,o.kt)("p",null,"Here is the complete code"),(0,o.kt)("h3",{id:"python-2-example"},"Python 2 Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'import os\nimport shutil\nfrom zipfile import ZipFile\nfrom os import path\nfrom shutil import make_archive\n\ndef main():\n# Check if file exists\n    if path.exists("guru99.txt"):\n# get the path to the file in the current directory\n    src = path.realpath("guru99.txt");\n# rename the original file\n    os.rename("career.guru99.txt","guru99.txt")\n# now put things into a ZIP archive\n    root_dir,tail = path.split(src)\n    shutil.make_archive("guru99 archive", "zip", root_dir)\n# more fine-grained control over ZIP files\n    with ZipFile("testguru99.zip","w") as newzip:\n    newzip.write("guru99.txt")\n        newzip.write("guru99.txt.bak")\nif __name__== "__main__":\n      main()\n')),(0,o.kt)("h3",{id:"python-3-example"},"Python 3 Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'import os\nimport shutil\nfrom zipfile import ZipFile\nfrom os import path\nfrom shutil import make_archive\n\n    # Check if file exists\n       if path.exists("guru99.txt"):\n    # get the path to the file in the current directory\n        src = path.realpath("guru99.txt");\n    # rename the original file\n        os.rename("career.guru99.txt","guru99.txt")\n    # now put things into a ZIP archive\n        root_dir,tail = path.split(src)\n        shutil.make_archive("guru99 archive","zip",root_dir)\n    # more fine-grained control over ZIP files\n        with ZipFile("testguru99.zip", "w") as newzip:\n            newzip.write("guru99.txt")\n            newzip.write("guru99.txt.bak")\n')),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'To zip entire directory use command "shutil.make_archive("name","zip", root_dir)'),(0,o.kt)("li",{parentName:"ul"},'To select the files to zip use command "ZipFile.write(filename)"')))}s.isMDXComponent=!0}}]);